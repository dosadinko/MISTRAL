<div class="row">
    <div class="col-md-12">
        <jhi-back-button></jhi-back-button>
    </div>
</div>
<div class="row mt-5">
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-9">
                <h3>{{selectedUser.firstName}}&nbsp;{{selectedUser.lastName}}</h3>
            </div>
            <div class="col-md-3">
                <button *ngIf="!assignFormOn" (click)="onAssignPermissionClick()" class="btn btn-primary">
                    Assign permission
                </button>
                <button *ngIf="assignFormOn" (click)="onAssignPermissionClick()" class="btn btn-primary">
                    Close form
                </button>
            </div>
        </div>
    </div>
    <div class="col-md-12" *ngIf="assignFormOn">
        <div class="col-md-3 float-right mt-3">
            <label>Select permission</label>
            <select *ngIf="permissionsList && permissionsList.length > 0" class="form-control"
                    [(ngModel)]="selectedPermission">
                <option *ngFor="let item of permissionsList" [value]="item.id">
                    {{item.code}}
                </option>
            </select>
            <button class="btn btn-success float-right mt-3" (click)="onSaveClick()">
                Save
            </button>
        </div>
    </div>
</div>
<div class="col-md-12 mt-5">
    <div *ngIf="userPermissionsList && userPermissionsList.length > 0">
        <div class="table-responsive mt-3">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Code</th>
                    <th>Description</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let item of userPermissionsList;">
                    <td>{{item.permissionName}}</td>
                    <td>{{item.permissionDescription}}</td>
                    <td>
                        <button type="submit" (click)="delete(item.id)"
                                class="btn btn-danger btn-sm pull-right ml-3">
                            <span class="fa fa-fw fa-remove"></span>
                            <span class="d-none d-md-inline">Delete</span>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
